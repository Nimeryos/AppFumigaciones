<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>App Fumigaciones - Grilla</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <h1>Gestión de Edificios - Fumigaciones</h1>
  </header>

  <section class="controls">
    <div class="row">
      <label for="buildingName">Nombre del edificio</label>
      <input id="buildingName" placeholder="Ej: Torre 360" />
    </div>

    <div class="row">
      <label for="rows">Cantidad de pisos</label>
      <input id="rows" type="number" min="1" placeholder="Ej: 12" />
      <label for="cols">Cantidad de deptos por piso</label>
      <input id="cols" type="number" min="1" placeholder="Ej: 5" />
    </div>

    <div class="row">
      <label>Formato de departamentos</label>
      <select id="labelMode">
        <option value="letters">Letras (A, B, C...)</option>
        <option value="numbers">Números (1, 2, 3...)</option>
      </select>

      <button id="createGrid">Crear grilla</button>
      <button id="finalizeSnapshot" title="Marcar la versión actual como la 'Vez anterior'">Finalizar (guardar como anterior)</button>
      <button id="deleteBuilding" title="Borrar los datos guardados de este edificio">Eliminar edificio</button>
    </div>

    <div class="row">
      <label for="savedBuildings">Edificios guardados</label>
      <select id="savedBuildings"></select>
    </div>
  </section>

  <main>
    <div id="tableWrapper">
      <!-- La tabla se genera dinámicamente -->
      <table id="gridTable"></table>
    </div>

    <aside class="stats">
      <h3>Estadísticas</h3>
      <div class="stat-row">
        <div>Estado</div>
        <div>Vez anterior</div>
        <div>Actual</div>
        <div>Diferencia</div>
      </div>
      <div class="stat-row">
        <div class="state-label">X</div>
        <div id="prevX">0</div>
        <div id="curX">0</div>
        <div id="diffX" class="diff">0</div>
      </div>
      <div class="stat-row">
        <div class="state-label">-</div>
        <div id="prevDash">0</div>
        <div id="curDash">0</div>
        <div id="diffDash" class="diff">0</div>
      </div>
      <div class="stat-row">
        <div class="state-label">NO</div>
        <div id="prevNO">0</div>
        <div id="curNO">0</div>
        <div id="diffNO" class="diff">0</div>
      </div>
      <div class="stat-row">
        <div class="state-label">XG</div>
        <div id="prevXG">0</div>
        <div id="curXG">0</div>
        <div id="diffXG" class="diff">0</div>
      </div>
      <div class="note">
        <small>Verde = aumento • Negro = igual • Rojo = disminución</small>
      </div>
    </aside>
  </main>

  <footer class="bottom-actions">
    <button id="exportCSV">Exportar CSV</button>
  </footer>

  <script src="js/app.js"></script>
</body>
</html>
